<template name="getHelp">
    <div id="main">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="panel panel-default">
                        <div class="panel-heading text-align-center">
                            <h1>Spørsmål og svar</h1>
                        </div>
                        <div class="panel-body">
                            <p>Her kan du få hjelp til leksene dine ved å sende et spørsmål til en nettleksehjelper. Du velger fag, sender spørsmålet og kan lese svarene dine her.</p>
                            <button id="ask-question" class="btn btn-primary btn-lg full-width">Still et spørsmål</button>
                        </div>
                        <div class="panel-footer text-align-center">
                            <p>Se gjennom eksisterende spørsmål og svar:</p>
                            {{#each subjectsWithAnswers}}
                                <a href="/sok">{{this.name}}</a>&nbsp;&nbsp;&nbsp;
                            {{/each}}
                        </div>
                    </div>
                </div>
                <div class="col-md-4"></div>
                <div class="col-md-4">

                    <div id="getHelpPanel" class="panel panel-default">
                        <div class="panel-heading text-align-center">
                            <h1>Få leksehjelp</h1>
                        </div>
                        <div class="panel-body text-align-center">
                            {{#if serviceStatusLoaded}}
                                {{#unless serviceIsOpen}}
                                    {{> serviceClosed}}
                                {{else}}
                                    <p style="padding: 3%;">
                                        Velg fra nedtrekksmenyen:
                                    </p>
                                    <form role="form">
                                      <div class="form-group full-width">
                                        {{> subjectSelector }}
                                      </div>
                                      <div class="form-group">
                                        {{> gradeSelector }}
                                      </div>

                                        <div class="form-group">
                                            <button type="button" class="btn btn-success full-width" id="createSession">
                                                <div style="font-size:20px;">
                                                    Få leksehjelp nå
                                                </div>
                                            </button>
                                        </div>
                                        {{#if validationError }}
                                            <div class="alert alert-danger">{{ validationError }}</div>
                                        {{/if}}
                                    </form>
                                {{/unless}}
                            {{else}}
                                <div style="height: 200px">
                                    {{> spinner }}
                                </div>
                            {{/if}}
                        </div>
                        <div class="panel-footer text-align-center">
                            {{#if openingHoursLoaded}}
                                {{{ openingHours }}}
                            {{else}}
                                <div style="height: 50px">
                                    {{> spinner }}
                                </div>
                            {{/if}}
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</template>

<template name="serviceClosed">
    <img
        class="img-responsive center-block"
        src="/leksehjelpen_stengt_ikon.png"
        width="90px"
        height="90px"/>
    <p style="text-align:center;"><font color="#FF0000">Leksehjelpen er nå stengt</font></p>
    <p style="text-align:center;">Velkommen tilbake i åpningstiden for hjelp til lekser</p>
</template>

<template name="subjectSelector">
    <div class="btn-group" style="width:100%;">
        <button type="button" class="btn btn-lg dropdown-toggle" data-toggle="dropdown" style="width:100%;">
            <div id="chosenSubject" style="float:center;">Velg ønsket fag</div><span class="caret" style="float:right; margin-top:-15px;"></span>
        </button>
        <ul class="dropdown-menu" role="menu" style="width:100%;">
            {{#each subjects }}
                <li class="subjects {{subjectDisabled this.availableVolunteers.length}}" role="presentation">{{this.name}}</li>
            {{/each}}
        </ul>
        </div>
</template>

<template name="gradeSelector">
    <div class="btn-group" style="width:100%;">
        <button type="button" class="btn btn-lg dropdown-toggle" data-toggle="dropdown" style="width:100%;">
            <div id="chosenGrade" style="float:center;">Velg ditt trinn</div><span class="caret" style="float:right; margin-top:-15px;"></span>
        </button>
        <ul class="dropdown-menu" role="menu" style="width:100%;">
            {{#each grades }}
                <li class="grades" role="presentation">{{this}}</li>
            {{/each}}
        </ul>
        </div>
</template>
